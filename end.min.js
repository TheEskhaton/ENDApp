(function(e,t,n){var r=function(t,n,r){this.on=t,this.$el=function(){return e(n)},this.cb=r,this.unbind=function(e){this.$el().unbind(e)},this.trigger=function(){this.$el().trigger(this.on)}},i=function(t){this.views={},this.$el=function(){return e(t)},this.find=function(e){return this.$el().find(e)},this.on=function(e,t){this.$el().on(e,t)},this.trigger=function(e){this.$el().trigger(e)},this.click=function(e){this.$el().click(e)},this.hide=function(){this.$el().hide()},this.show=function(){this.$el().show()},this.visible=function(){return this.$el().is(":visible")},this.each=function(e){this.$el().each(e)},this.addView=function(e,t){this.views[e]=new i(this.$el().find(t).selector)}},s=function(e){var n=new RegExp(e,"i");this.isCurrent=function(){return t.location.href.match(n)?!0:!1}},o=function(){var e=/[a-zA-Z\-]+.aspx/;this.page=t.location.href.match(e)[0],this.domain=t.location.origin,this.absoluteUrl=t.location.href.replace(new RegExp(this.domain,"ig"),"")},u=function(e){this.name=e,this.events=[]},a=function(){var t=[],n=[],a=[],f=[],l={},c={};this.views={},this.pages={},this.start=function(){e.each(t,function(t,n){n(e)}),e.each(n,function(t,n){n(e)}),e.each(a,function(e,t){t.$el().on(t.on,t.cb)})},this.currentPage=function(){return new o},this.addInitializer=function(e,r){r?n.push(e):t.push(e)},this.addEvent=function(e,t,n){a.push(new r(e,t,n))},this.addView=function(e,t){this.views[e]=new i(t)},this.addPage=function(e,t){this.pages[e]=new s(t)},this.setValidationMessage=function(e,t){c[e]=t},this.getValidationMessage=function(e){return c[e]},this.get=function(e){return l[e]},this.set=function(e,t){l[e]=t},this.on=function(t,n){var r=!1;e.each(f,function(e,i){i.name===t&&(i.events.push(n),r=!0)});if(!r){var i=new u(t);i.events.push(n),f.push(i)}},this.unbind=function(t){e.each(f,function(e,n){n.name==t&&(n.events=[])})},this.trigger=function(t){e.each(f,function(n,r){r.name===t&&e.each(r.events,function(e,t){t()})})}};t.ENDApp={App:a,ENDEvent:r,ENDView:i,ENDPage:s},t.App=new a,e(function(){var e="(function(){ window.App.start(); })();",t=n.createElement("script");t.type="text/javascript",t.text=e,n.body.appendChild(t)})})(jQuery,window,document);